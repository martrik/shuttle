<div class="min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 py-12 px-4">
  <div class="max-w-2xl mx-auto">
    <div class="text-center mb-8">
      <h1 class="text-4xl font-bold text-white mb-2">Deploy to Railway</h1>
      <p class="text-blue-200">Choose your project and Docker image</p>
    </div>

    <div class="bg-white rounded-lg shadow-xl p-8">
      <% if flash[:notice] %>
        <div class="mb-6 p-4 bg-green-50 border border-green-200 rounded-md">
          <p class="text-sm text-green-800"><%= flash[:notice] %></p>
        </div>
      <% end %>

      <% if flash[:alert] %>
        <div class="mb-6 p-4 bg-red-50 border border-red-200 rounded-md">
          <p class="text-sm text-red-800"><%= flash[:alert] %></p>
        </div>
      <% end %>

      <%= form_with url: deployments_path, method: :post, class: "space-y-6" do |f| %>
        <div>
          <label for="project_id" class="block text-sm font-medium text-gray-700 mb-2">
            Railway Project
          </label>
          <select 
            name="project_id" 
            id="project_id" 
            required
            class="w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"
          >
            <option value="">Select a project...</option>
            <% @projects.each do |project| %>
              <option value="<%= project['id'] %>"><%= project['name'] %></option>
            <% end %>
          </select>
          <p class="mt-2 text-xs text-gray-500">
            The Railway project where your service will be deployed
          </p>
        </div>

        <div>
          <label for="docker_image" class="block text-sm font-medium text-gray-700 mb-2">
            Docker Image
          </label>
          <input 
            type="text" 
            name="docker_image" 
            id="docker_image" 
            required
            class="w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"
            placeholder="e.g., nginx:latest or your-registry/image:tag"
          />
          <p class="mt-2 text-xs text-gray-500">
            Full Docker image name with optional tag
          </p>
        </div>

        <div class="flex items-center space-x-4 pt-4">
          <button 
            type="submit"
            class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-md shadow-md transition duration-200 flex items-center justify-center space-x-2"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 256 256">
              <path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"/>
            </svg>
            <span>Deploy Service</span>
          </button>
          
          <a 
            href="<%= deployments_path %>" 
            class="px-6 py-3 border border-gray-300 text-gray-700 font-semibold rounded-md hover:bg-gray-50 transition duration-200"
          >
            Cancel
          </a>
        </div>
      <% end %>
    </div>

    <div class="mt-6 text-center">
      <p class="text-sm text-blue-200">
        Your deployment will be tracked automatically
      </p>
    </div>
  </div>
</div>
